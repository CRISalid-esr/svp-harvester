{% extends "./base.html.jinja" %}

{% block head_title %}{% trans %}retrieve_page_data_retrieval_page_title{% endtrans %}{% endblock %}
{% block page_title %}{% trans %}retrieve_page_data_retrieval_page_title{% endtrans %}{% endblock %}
{% block first_section_title %}{% trans %}retrieve_page_entity_parameters_section_title{% endtrans %}{% endblock %}
{% block first_section_content %}
    <div class="row" id="retrieve-page-content">
        <div class="col-md-8 order-md-1 col-12 mb-md-0 mb-3" id="form-container">
            <form id="form-element">
                <div class="row">
                    <div class="col-md-8">
                        <h5>{% trans %}retrieve_page_entity_type_select_label{% endtrans %} <i
                                class="bi bi-info-circle cursor-help"
                                data-bs-toggle="tooltip"
                                data-bs-title="{% trans %}retrieve_page_entity_type_select_help_text{% endtrans %}"
                        ></i></h5>
                        <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="pills-researcher-tab" data-bs-toggle="pill"
                                        data-bs-target="#pills-researcher" type="button" role="tab"
                                        aria-controls="pills-researcher" aria-selected="true">
                                    {% trans %}retrieve_page_entity_type_select_researcher_pill{% endtrans %}</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="pills-laboratory-tab" data-bs-toggle="pill"
                                        data-bs-target="#pills-laboratory" type="button" role="tab"
                                        aria-controls="pills-laboratory" aria-selected="false">
                                    {% trans %}retrieve_page_entity_type_select_laboratory_pill{% endtrans %}</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="pills-institution-tab" data-bs-toggle="pill"
                                        data-bs-target="#pills-institution" type="button" role="tab"
                                        aria-controls="pills-institution" aria-selected="false">
                                    {% trans %}retrieve_page_entity_type_select_institution_pill{% endtrans %}</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="pills-project-tab" data-bs-toggle="pill"
                                        data-bs-target="#pills-project" type="button" role="tab"
                                        aria-controls="pills-project" aria-selected="false">
                                    {% trans %}retrieve_page_entity_type_select_project_pill{% endtrans %}</button>
                            </li>
                        </ul>
                    </div>
                    <div class="col-md-4 d-flex justify-content-end align-items-end">
                        <div class="text-md-end">
                            <div class="form-check form-switch">
                                <label class="form-check-label" for="history-safe-mode-toggle">
                                    {% trans %}retrieve_page_history_safe_mode_switch_label{% endtrans %} <i
                                    class="bi bi-info-circle cursor-help"
                                    data-bs-toggle="tooltip"
                                    data-bs-title="{% trans %}retrieve_page_history_safe_mode_switch_help_text{% endtrans %}"
                            ></i></label>
                                <input class="form-check-input" type="checkbox" id="history-safe-mode-toggle"
                                        aria-label="{% trans %}retrieve_page_history_safe_mode_switch_aria_label{% endtrans %}"
                                       checked />

                            </div>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="identifiers-safe-mode-toggle"
                                       aria-label="{% trans %}retrieve_page_history_safe_mode_switch_aria_label{% endtrans %}"
                                       checked />
                                <label class="form-check-label checkbox-inline" for="identifiers-safe-mode-toggle">
                                  {% trans %}retrieve_page_identifiers_safe_mode_switch_label{% endtrans %} <i
                                    class="bi bi-info-circle cursor-help"
                                    data-bs-toggle="tooltip"
                                    data-bs-title="{% trans %}retrieve_page_identifiers_safe_mode_switch_help_text{% endtrans %}">
                                  </i>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                {#TODO put the content in the tabs#}
                <div class="tab-content" id="pills-tabContent">
                    <div class="tab-pane fade show active" id="pills-researcher" role="tabpanel"
                         aria-labelledby="pills-researcher-tab" tabindex="0">
                    </div>
                    <div class="tab-pane fade" id="pills-laboratory" role="tabpanel"
                         aria-labelledby="pills-laboratory-tab" tabindex="0">
                    </div>
                    <div class="tab-pane fade" id="pills-institution" role="tabpanel"
                         aria-labelledby="pills-institution-tab" tabindex="0">
                    </div>
                    <div class="tab-pane fade" id="pills-project" role="tabpanel"
                         aria-labelledby="pills-project-tab" tabindex="0">
                    </div>
                </div>
                <div id="name-field-container">
                    <div class="input-group flex-nowrap">
                      <span class="input-group-text" id="addon-wrapping">{% trans %}retrieve_page_entity_name_input_label{% endtrans %}</span>
                      <input type="text" id="name-field-input" class="form-control" placeholder="{% trans %}retrieve_page_entity_name_input_placeholder{% endtrans %}" aria-label="{% trans %}retrieve_page_entity_name_input_aria_label{% endtrans %}">
                </div>
                </div>
                <div id="identifier-fields-container"></div>
                <div class="row">
                    <div class="col-md-6 col-12">
                        <h5>{% trans %}retrieve_page_harvesting_type_select_label{% endtrans %} <i
                                class="bi bi-info-circle cursor-help"
                                data-bs-toggle="tooltip"
                                data-bs-title="{% trans %}retrieve_page_harvesting_type_help_text{% endtrans %}"
                        ></i></h5>
                        <select id="event-type-select"
                                class="mt-3 mb-3"
                                multiple="multiple"
                                aria-label="{% trans %}retrieve_page_harvesting_type_select_aria_label{% endtrans %}">
                            <option selected value="created">
                                {% trans %}retrieve_page_harvesting_type_new_references_option_label{% endtrans %}
                            </option>
                            <option selected value="updated">
                                {% trans %}retrieve_page_harvesting_type_updated_references_option_label{% endtrans %}
                            </option>
                            <option selected value="deleted">
                                {% trans %}retrieve_page_harvesting_type_deleted_references_option_label{% endtrans %}
                            </option>
                            <option selected value="unchanged">
                                {% trans %}retrieve_page_harvesting_type_unchanged_references_option_label{% endtrans %}
                            </option>
                        </select>
                    </div>
                    <div class="col-md-6 col-12">
                        <h5>{% trans %}retrieve_page_harvester_select_label{% endtrans %} <i
                                class="bi bi-info-circle cursor-help"
                                data-bs-toggle="tooltip"
                                data-bs-title="{% trans %}retrieve_page_harvester_select_help_text{% endtrans %}"
                        ></i></h5>
                        <select id="harvesters-select"
                                class="mt-3 mb-3"
                                multiple="multiple"
                                aria-label="{% trans %}Data sources{% endtrans %}">
                            <option selected value="hal">
                                {% trans %}retrieve_page_harvester_hal_option_label{% endtrans %}
                            </option>
                            <option selected value="idref">
                                {% trans %}retrieve_page_harvester_idref_option_label{% endtrans %}
                            </option>
                            <option selected value="openalex">
                                {% trans %}retrieve_page_harvester_openalex_option_label{% endtrans %}
                            </option>
                            <option selected value="scanr">
                                {% trans %}retrieve_page_harvester_scanr_option_label{% endtrans %}
                            </option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <h5>{% trans %}retrieve_page_reference_type_select_label{% endtrans %} <i
                                class="bi bi-info-circle cursor-help"
                                data-bs-toggle="tooltip"
                                data-bs-title="{% trans %}retrieve_page_reference_type_select_help_text{% endtrans %}"
                        ></i></h5>

                        <select id="reference-type-select"
                                class="mt-3 mb-3"
                                multiple="multiple"
                                aria-label="{% trans %}retrieve_page_reference_type_select_aria_label{% endtrans %}">
                            <option selected value="article">
                                {% trans %}retrieve_page_reference_type_article_option_label{% endtrans %}</option>
                            <option selected value="book">
                                {% trans %}retrieve_page_reference_type_book_option_label{% endtrans %}
                            </option>
                            <option selected value="book_section">
                                {% trans %}retrieve_page_reference_type_book_section_option_label{% endtrans %}</option>
                            <option selected value="book_chapter">
                                {% trans %}retrieve_page_reference_type_book_chapter_option_label{% endtrans %}</option>

                        </select>
                    </div>
                </div>

                <h5>{% trans %}retrieve_page_harvesting_range_select_label{% endtrans %} <i
                        class="bi bi-info-circle cursor-help"
                        data-bs-toggle="tooltip"
                        data-bs-title="{% trans %}retrieve_page_harvesting_range_select_help_text{% endtrans %}"
                ></i></h5>
                <span></span>
                <div class="row">
                    <div id="date-range-picker-container" class="d-flex col-md-8 col-12">
                        <div>
                            <label for="data-range-start">
                                {% trans %}retrieve_page_harvesting_range_start_input_label{% endtrans %}
                            </label>
                            <input id="data-range-start" type="text"
                                   aria-label="{% trans %}retrieve_page_harvesting_range_start_input_aria_label{% endtrans %}"
                                   class="form-control"
                                   placeholder="{% trans %}retrieve_page_harvesting_range_start_input_placeholder{% endtrans %}">
                        </div>
                        <div class="ms-2">
                            <label for="data-range-end">
                                {% trans %}retrieve_page_harvesting_range_end_input_label{% endtrans %}     </label>
                            <input id="date-range-end" type="text"
                                   aria-label="{% trans %}retrieve_page_harvesting_range_end_input_arial_label{% endtrans %}"
                                   class="form-control"
                                   placeholder="{% trans %}retrieve_page_harvesting_range_end_input_placeholder{% endtrans %}">
                        </div>
                    </div>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end col-md-4 col-12">
                        <button type="submit" class="btn btn-primary" id="run-retrieval-btn"><i
                                class="bi bi-search"></i>
                            {% trans %}retrieve_page_launch_retrieval_button_label{% endtrans %}</button>
                    </div>
                </div>


            </form>
        </div>
        <div class="col-md-1 order-md-2 d-none d-md-block"></div>
        <div class="col-md-3 order-md-3 col-12">
            <div class="card bg-light mb-3 ms-auto">
                <div class="card-header">{% trans %}retrieve_page_current_entity_card_title{% endtrans %}</div>
                <div class="card-body">
                    <ul class="list-group list-group-flush" id="entity-attributes-card-container">
                    </ul>
                </div>
            </div>
            <div class="card bg-light mb-3 ms-auto">
                <div class="card-header">{% trans %}retrieve_page_collection_status_card_title{% endtrans %}</div>
                <div class="card-body">
                    <ul class="list-group list-group-flush" id="harvesting-progress-widgets-container">


                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="bg-light ms-md-n2 ps-md-3 mt-5">
        <h2>{% trans %}retrieve_page_search_result_panel_title{% endtrans %}</h2>


        <div>
            <table id="references-table">

            </table>
        </div>

    </div>


{% endblock %}