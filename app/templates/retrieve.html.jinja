{% extends "./base.html.jinja" %}

{% block head_title %}{% trans %}Data retrieval{% endtrans %}{% endblock %}
{% block page_title %}{% trans %}Data retrieval{% endtrans %}{% endblock %}
{% block first_section_title %}{% trans %}Entity parameters{% endtrans %}{% endblock %}
{% block first_section_content %}
    <div class="row" id="retrieve-page-content">
        <div class="col-md-8 order-md-1 col-12 mb-md-0 mb-3" id="form-container">
            <form id="form-element">
                <div class="row">
                    <div class="col-md-10">
                        <h5>{% trans %}Entity type{% endtrans %} <i
                                class="bi bi-info-circle cursor-help"
                                data-bs-toggle="tooltip"
                                data-bs-title="{% trans %}Entity type help text{% endtrans %}"
                        ></i></h5>
                        <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="pills-researcher-tab" data-bs-toggle="pill"
                                        data-bs-target="#pills-researcher" type="button" role="tab"
                                        aria-controls="pills-researcher" aria-selected="true">{% trans %}
                                    Researcher{% endtrans %}</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="pills-laboratory-tab" data-bs-toggle="pill"
                                        data-bs-target="#pills-laboratory" type="button" role="tab"
                                        aria-controls="pills-laboratory" aria-selected="false">{% trans %}Research
                                    structure{% endtrans %}</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="pills-institution-tab" data-bs-toggle="pill"
                                        data-bs-target="#pills-institution" type="button" role="tab"
                                        aria-controls="pills-institution" aria-selected="false">{% trans %}
                                    Institution{% endtrans %}</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="pills-project-tab" data-bs-toggle="pill"
                                        data-bs-target="#pills-project" type="button" role="tab"
                                        aria-controls="pills-project" aria-selected="false">{% trans %}
                                    Project{% endtrans %}</button>
                            </li>
                        </ul>
                    </div>
                    <div class="col-md-2 d-flex justify-content-end">
                        <div class="text-md-end">
                            <h5>{% trans %}Safe mode{% endtrans %} <i
                                    class="bi bi-info-circle cursor-help"
                                    data-bs-toggle="tooltip"
                                    data-bs-title="{% trans %}Safe mode help text{% endtrans %}"
                            ></i></h5>
                            <input id="safe-mode-toggle" type="checkbox" data-toggle="toggle" checked
                                   aria-label="Toggle safe mode" aria-checked="true"/>
                        </div>
                    </div>
                </div>
                {#TODO put the content in the tabs#}
                <div class="tab-content" id="pills-tabContent">
                    <div class="tab-pane fade show active" id="pills-researcher" role="tabpanel"
                         aria-labelledby="pills-researcher-tab" tabindex="0">
                    </div>
                    <div class="tab-pane fade" id="pills-laboratory" role="tabpanel"
                         aria-labelledby="pills-laboratory-tab" tabindex="0">
                    </div>
                    <div class="tab-pane fade" id="pills-institution" role="tabpanel"
                         aria-labelledby="pills-institution-tab" tabindex="0">
                    </div>
                    <div class="tab-pane fade" id="pills-project" role="tabpanel"
                         aria-labelledby="pills-project-tab" tabindex="0">
                    </div>
                </div>
                <div id="identifier-fields-container"></div>
                <div class="row">
                    <div class="col-md-6 col-12">
                        <h5>{% trans %}Harvesting type{% endtrans %} <i
                                class="bi bi-info-circle cursor-help"
                                data-bs-toggle="tooltip"
                                data-bs-title="{% trans %}Harvesting type help text{% endtrans %}"
                        ></i></h5>
                        <span hidden>{% trans %}Event type{% endtrans %}</span>
                        <select id="event-type-select"
                                class="mt-3 mb-3"
                                multiple="multiple"
                                aria-label="{% trans %}Search type{% endtrans %}">
                            <option selected value="created">{% trans %}New references{% endtrans %}</option>
                            <option selected value="updated">{% trans %}Updated references{% endtrans %}</option>
                            <option selected value="deleted">{% trans %}Deleted references{% endtrans %}</option>
                            <option selected value="unchanged">{% trans %}Unchanged references{% endtrans %}</option>
                        </select>
                    </div>
                    <div class="col-md-6 col-12">
                        <h5>{% trans %}Data sources{% endtrans %} <i
                                class="bi bi-info-circle cursor-help"
                                data-bs-toggle="tooltip"
                                data-bs-title="{% trans %}Data sources help text{% endtrans %}"
                        ></i></h5>
                        <span hidden>{% trans %}Data sources{% endtrans %}</span>
                        <select id="data-sources-select"
                                class="mt-3 mb-3"
                                multiple="multiple"
                                aria-label="{% trans %}Data sources{% endtrans %}">
                            <option selected value="hal">{% trans %}Hal{% endtrans %}</option>
                            <option selected value="idref">{% trans %}Data.idref.fr{% endtrans %}</option>
                            <option selected value="openalex">{% trans %}OpenAlex{% endtrans %}</option>
                            <option selected value="scanr">{% trans %}Scanr{% endtrans %}</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <h5>{% trans %}Notice types{% endtrans %} <i
                                class="bi bi-info-circle cursor-help"
                                data-bs-toggle="tooltip"
                                data-bs-title="{% trans %}Notice types help text{% endtrans %}"
                        ></i></h5>

                        <select id="reference-type-select"
                                class="mt-3 mb-3"
                                multiple="multiple"
                                aria-label="{% trans %}Filter by notice type{% endtrans %}">
                            <option selected value="ART">{% trans %}Journal article{% endtrans %}</option>
                            <option selected value="COMM">{% trans %}Conference presentation{% endtrans %}</option>
                            <option selected value="POSTER">{% trans %}Conference poster{% endtrans %}</option>
                            <option selected value="PROCEEDINGS">{% trans %}Proceedings{% endtrans %}</option>
                            <option selected value="ISSUE">{% trans %}Special journal issue{% endtrans %}</option>
                            <option selected value="OUV">{% trans %}Book{% endtrans %}</option>
                            <option selected value="COUV">{% trans %}Book chapter{% endtrans %}</option>
                            <option selected value="BLOG">{% trans %}Scientific blog post{% endtrans %}</option>
                            <option selected value="NOTICE">{% trans %}Encyclopedia or dictionary
                                notice{% endtrans %}</option>
                            <option selected value="TRAD">{% trans %}Translation{% endtrans %}</option>
                            <option selected value="PATENT">{% trans %}Patent{% endtrans %}</option>
                            <option selected value="OTHER">{% trans %}Other scientific
                                publication{% endtrans %}</option>
                            <option selected value="UNDEFINED">{% trans %}Working paper{% endtrans %}</option>
                            <option selected value="REPORT">{% trans %}Report{% endtrans %}</option>
                            <option selected value="THESE">{% trans %}ThÃ©sis{% endtrans %}</option>
                            <option selected value="HDR">{% trans %}HDR{% endtrans %}</option>
                            <option selected value="LECTURE">{% trans %}Lecture{% endtrans %}</option>
                            <option selected value="MEM">{% trans %}Student thesis{% endtrans %}</option>
                            <option selected value="IMG">{% trans %}Image{% endtrans %}</option>
                            <option selected value="VIDEO">{% trans %}Video{% endtrans %}</option>
                            <option selected value="SON">{% trans %}Sound{% endtrans %}</option>
                            <option selected value="MAP">{% trans %}Map{% endtrans %}</option>
                            <option selected value="SOFTWARE">{% trans %}Software{% endtrans %}</option>
                            <option selected value="PRESCONF">{% trans %}Document for scientific
                                events{% endtrans %}</option>
                            <option selected value="CREPORT">{% trans %}Report Chapter{% endtrans %}</option>
                            <option selected value="ETABTHESE">{% trans %}Establishment thesis{% endtrans %}</option>
                            <option selected value="MEMLIC">{% trans %}typdoc_MEMLIC{% endtrans %}</option>
                            <option selected value="NOTE">{% trans %}Reading note{% endtrans %}</option>
                            <option selected value="OTHERREPORT">{% trans %}Other reports, seminars,
                                workshops{% endtrans %}</option>
                            <option selected value="REPACT">{% trans %}Activity report{% endtrans %}</option>
                            <option selected value="SYNTHESE">{% trans %}Summary notes{% endtrans %}</option>
                        </select>
                    </div>
                </div>

                <h5>{% trans %}Harvesting range{% endtrans %} <i
                        class="bi bi-info-circle cursor-help"
                        data-bs-toggle="tooltip"
                        data-bs-title="{% trans %}Harvesting range help text{% endtrans %}"
                ></i></h5>
                <span></span>
                <div class="row">
                    <div id="date-range-picker-container" class="d-flex col-md-8 col-12">
                        <div>
                            <label for="data-range-start">{% trans %}From{% endtrans %}     </label>
                            <input id="data-range-start" type="text" aria-label="Since date" class="form-control"
                                   placeholder="De: Optionnel">
                        </div>
                        <div class="ms-2">
                            <label for="data-range-end">{% trans %}To : {% endtrans %}     </label>
                            <input id="date-range-end" type="text" aria-label="Last date"
                                   class="form-control" placeholder="Ã€:
                        Optionnel">
                        </div>
                    </div>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end col-md-4 col-12">
                        <button type="submit" class="btn btn-primary" id="run-retrieval-btn"><i
                                class="bi bi-search"></i>
                            {% trans %}Start search{% endtrans %}</button>
                    </div>
                </div>


            </form>
        </div>
        <div class="col-md-1 order-md-2 d-none d-md-block"></div>
        <div class="col-md-3 order-md-3 col-12">
            <div class="card bg-light mb-3 ms-auto">
                <div class="card-header">{% trans %}data collection status{% endtrans %}</div>
                <div class="card-body">
                    <ul class="list-group list-group-flush" id="harvesting-progress-widgets-container">


                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="bg-light ms-md-n2 ps-md-3 mt-5">
        <h2>{% trans %}Search results{% endtrans %}</h2>


        <div>
            <table id="references-table">

            </table>
        </div>

    </div>


{% endblock %}